"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const bignumber_js_1 = __importDefault(require("bignumber.js"));
require("should");
const src_1 = require("../../src");
describe('units', () => {
    describe('toFullUnits', () => {
        it('should convert numbers into full units', () => {
            src_1.toFullUnits(0, 'susd').should.equal('0');
            src_1.toFullUnits(75, 'susd').should.equal('0.75');
            src_1.toFullUnits(-100, 'susd').should.equal('-1');
            src_1.toFullUnits(0, 'btc').should.equal('0');
            src_1.toFullUnits(75, 'btc').should.equal('7.5e-7');
            src_1.toFullUnits(750000, 'btc').should.equal('0.0075');
            src_1.toFullUnits(-7500000, 'btc').should.equal('-0.075');
        });
        it('should convert big numbers into full units', () => {
            src_1.toFullUnits(bignumber_js_1.default(0), 'susd').should.equal('0');
            src_1.toFullUnits(bignumber_js_1.default(75), 'susd').should.equal('0.75');
            src_1.toFullUnits(bignumber_js_1.default('7500000000000'), 'susd').should.equal('75000000000');
            src_1.toFullUnits(bignumber_js_1.default('750000000000000000000000000'), 'susd').should.equal('7.5e+24');
            src_1.toFullUnits(bignumber_js_1.default(-100), 'susd').should.equal('-1');
            src_1.toFullUnits(bignumber_js_1.default(0), 'btc').should.equal('0');
            src_1.toFullUnits(bignumber_js_1.default(75), 'btc').should.equal('7.5e-7');
            src_1.toFullUnits(bignumber_js_1.default(750000), 'btc').should.equal('0.0075');
            src_1.toFullUnits(bignumber_js_1.default(-7500000), 'btc').should.equal('-0.075');
            src_1.toFullUnits(bignumber_js_1.default('75000000000000000000000000'), 'btc').should.equal('750000000000000000');
        });
    });
    describe('toFullUnitsFixed', () => {
        it('should convert numbers into full fixed units', () => {
            src_1.toFullUnitsFixed(0, 'susd').should.equal('0.00');
            src_1.toFullUnitsFixed(75, 'susd').should.equal('0.75');
            src_1.toFullUnitsFixed(-100, 'susd').should.equal('-1.00');
            src_1.toFullUnitsFixed(0, 'btc').should.equal('0.00000000');
            src_1.toFullUnitsFixed(75, 'btc').should.equal('0.00000075');
            src_1.toFullUnitsFixed(750000, 'btc').should.equal('0.00750000');
            src_1.toFullUnitsFixed(-7500000, 'btc').should.equal('-0.07500000');
        });
        it('should convert big numbers into full fixed units', () => {
            src_1.toFullUnitsFixed(bignumber_js_1.default(0), 'susd').should.equal('0.00');
            src_1.toFullUnitsFixed(bignumber_js_1.default(75), 'susd').should.equal('0.75');
            src_1.toFullUnitsFixed(bignumber_js_1.default('7500000000000'), 'susd').should.equal('75000000000.00');
            src_1.toFullUnitsFixed(bignumber_js_1.default('750000000000000000000000000'), 'susd').should.equal('7500000000000000000000000.00');
            src_1.toFullUnitsFixed(bignumber_js_1.default(-100), 'susd').should.equal('-1.00');
            src_1.toFullUnitsFixed(bignumber_js_1.default(0), 'btc').should.equal('0.00000000');
            src_1.toFullUnitsFixed(bignumber_js_1.default(75), 'btc').should.equal('0.00000075');
            src_1.toFullUnitsFixed(bignumber_js_1.default(750000), 'btc').should.equal('0.00750000');
            src_1.toFullUnitsFixed(bignumber_js_1.default(-7500000), 'btc').should.equal('-0.07500000');
            src_1.toFullUnitsFixed(bignumber_js_1.default('75000000000000000000000000'), 'btc').should.equal('750000000000000000.00000000');
        });
    });
    describe('toBaseUnits', () => {
        it('should convert into base units', () => {
            src_1.toBaseUnits(0, 'susd').should.equal('0');
            src_1.toBaseUnits('0.75', 'susd').should.equal('75');
            src_1.toBaseUnits('-1.00', 'susd').should.equal('-100');
            src_1.toBaseUnits('0', 'btc').should.equal('0');
            src_1.toBaseUnits('0.000000000', 'btc').should.equal('0');
            src_1.toBaseUnits('0.00000075', 'btc').should.equal('75');
            src_1.toBaseUnits('0.00750000', 'btc').should.equal('750000');
            src_1.toBaseUnits('-0.07500000', 'btc').should.equal('-7500000');
        });
        it('should convert big numbers into base units', () => {
            src_1.toBaseUnits(bignumber_js_1.default(0), 'susd').should.equal('0');
            src_1.toBaseUnits(bignumber_js_1.default(75), 'susd').should.equal('7500');
            src_1.toBaseUnits(bignumber_js_1.default('7500000000000'), 'susd').should.equal('750000000000000');
            src_1.toBaseUnits(bignumber_js_1.default('750000000000000000000000000'), 'susd').should.equal('7.5e+28');
            src_1.toBaseUnits(bignumber_js_1.default(-100), 'susd').should.equal('-10000');
            src_1.toBaseUnits(bignumber_js_1.default(0), 'btc').should.equal('0');
            src_1.toBaseUnits(bignumber_js_1.default(75), 'btc').should.equal('7500000000');
            src_1.toBaseUnits(bignumber_js_1.default(750000), 'btc').should.equal('75000000000000');
            src_1.toBaseUnits(bignumber_js_1.default(-7500000), 'btc').should.equal('-750000000000000');
            src_1.toBaseUnits(bignumber_js_1.default('75000000000000000000000000'), 'btc').should.equal('7.5e+33');
        });
    });
    describe('toMarketValueBaseUnits', () => {
        it('should convert into market value base units', () => {
            src_1.toMarketValueBaseUnits('susd', 1, 0).should.equal(BigInt(0));
            src_1.toMarketValueBaseUnits('susd', 1, 10).should.equal(BigInt(10));
            src_1.toMarketValueBaseUnits('susd', 70000000, 0).should.equal(BigInt(0));
            src_1.toMarketValueBaseUnits('susd', 70000000, 10).should.equal(BigInt(700000000));
            src_1.toMarketValueBaseUnits('btc', 1, 0).should.equal(BigInt(0));
            src_1.toMarketValueBaseUnits('btc', 1, 10).should.equal(BigInt(0));
            src_1.toMarketValueBaseUnits('btc', 70000000, 0).should.equal(BigInt(0));
            src_1.toMarketValueBaseUnits('btc', 70000000, 10).should.equal(BigInt(700));
            src_1.toMarketValueBaseUnits('btc', bignumber_js_1.default('7000000000000000000000000'), 10).should.equal(BigInt('69999999999999999280'));
        });
        it('should allow changing the numerator of the trading pair', () => {
            // $3.38 market value for 1 eth at 338.2582 cents market price
            src_1.toMarketValueBaseUnits('teth', 338.2582, BigInt(10000000000000000).toString(), 'tsusd').should.equal(BigInt(338));
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90ZXN0L3VuaXQvdW5pdHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnRUFBcUM7QUFDckMsa0JBQWdCO0FBQ2hCLG1DQUErRjtBQUUvRixRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtRQUMzQixFQUFFLENBQUMsd0NBQXdDLEVBQUUsR0FBRyxFQUFFO1lBQ2hELGlCQUFXLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDekMsaUJBQVcsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM3QyxpQkFBVyxDQUFDLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0MsaUJBQVcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN4QyxpQkFBVyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzlDLGlCQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEQsaUJBQVcsQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDRDQUE0QyxFQUFFLEdBQUcsRUFBRTtZQUNwRCxpQkFBVyxDQUFDLHNCQUFTLENBQUMs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Q0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3RCw0QkFBc0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDL0QsNEJBQXNCLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BFLDRCQUFzQixDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUM3RSw0QkFBc0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUQsNEJBQXNCLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdELDRCQUFzQixDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRSw0QkFBc0IsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdEUsNEJBQXNCLENBQUMsS0FBSyxFQUFFLHNCQUFTLENBQUMsMkJBQTJCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUNwRixNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FDL0IsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLHlEQUF5RCxFQUFFLEdBQUcsRUFBRTtZQUNqRSw4REFBOEQ7WUFDOUQsNEJBQXNCLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3BILENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCaWdOdW1iZXIgZnJvbSAnYmlnbnVtYmVyLmpzJztcbmltcG9ydCAnc2hvdWxkJztcbmltcG9ydCB7IHRvRnVsbFVuaXRzLCB0b0Z1bGxVbml0c0ZpeGVkLCB0b0Jhc2VVbml0cywgdG9NYXJrZXRWYWx1ZUJhc2VVbml0cyB9IGZyb20gJy4uLy4uL3NyYyc7XG5cbmRlc2NyaWJlKCd1bml0cycsICgpID0+IHtcbiAgZGVzY3JpYmUoJ3RvRnVsbFVuaXRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29udmVydCBudW1iZXJzIGludG8gZnVsbCB1bml0cycsICgpID0+IHtcbiAgICAgIHRvRnVsbFVuaXRzKDAsICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwJyk7XG4gICAgICB0b0Z1bGxVbml0cyg3NSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzAuNzUnKTtcbiAgICAgIHRvRnVsbFVuaXRzKC0xMDAsICdzdXNkJykuc2hvdWxkLmVxdWFsKCctMScpO1xuICAgICAgdG9GdWxsVW5pdHMoMCwgJ2J0YycpLnNob3VsZC5lcXVhbCgnMCcpO1xuICAgICAgdG9GdWxsVW5pdHMoNzUsICdidGMnKS5zaG91bGQuZXF1YWwoJzcuNWUtNycpO1xuICAgICAgdG9GdWxsVW5pdHMoNzUwMDAwLCAnYnRjJykuc2hvdWxkLmVxdWFsKCcwLjAwNzUnKTtcbiAgICAgIHRvRnVsbFVuaXRzKC03NTAwMDAwLCAnYnRjJykuc2hvdWxkLmVxdWFsKCctMC4wNzUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY29udmVydCBiaWcgbnVtYmVycyBpbnRvIGZ1bGwgdW5pdHMnLCAoKSA9PiB7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoMCksICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwJyk7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoNzUpLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnMC43NScpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwJyksICdzdXNkJykuc2hvdWxkLmVxdWFsKCc3NTAwMDAwMDAwMCcpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzcuNWUrMjQnKTtcbiAgICAgIHRvRnVsbFVuaXRzKEJpZ051bWJlcigtMTAwKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJy0xJyk7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoMCksICdidGMnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvRnVsbFVuaXRzKEJpZ051bWJlcig3NSksICdidGMnKS5zaG91bGQuZXF1YWwoJzcuNWUtNycpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKDc1MDAwMCksICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDA3NScpO1xuICAgICAgdG9GdWxsVW5pdHMoQmlnTnVtYmVyKC03NTAwMDAwKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnLTAuMDc1Jyk7XG4gICAgICB0b0Z1bGxVbml0cyhCaWdOdW1iZXIoJzc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyksICdidGMnKS5zaG91bGQuZXF1YWwoJzc1MDAwMDAwMDAwMDAwMDAwMCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndG9GdWxsVW5pdHNGaXhlZCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgbnVtYmVycyBpbnRvIGZ1bGwgZml4ZWQgdW5pdHMnLCAoKSA9PiB7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKDAsICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwLjAwJyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKDc1LCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnMC43NScpO1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZCgtMTAwLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnLTEuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoMCwgJ2J0YycpLnNob3VsZC5lcXVhbCgnMC4wMDAwMDAwMCcpO1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZCg3NSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnMC4wMDAwMDA3NScpO1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZCg3NTAwMDAsICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDA3NTAwMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoLTc1MDAwMDAsICdidGMnKS5zaG91bGQuZXF1YWwoJy0wLjA3NTAwMDAwJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgYmlnIG51bWJlcnMgaW50byBmdWxsIGZpeGVkIHVuaXRzJywgKCkgPT4ge1xuICAgICAgdG9GdWxsVW5pdHNGaXhlZChCaWdOdW1iZXIoMCksICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwLjAwJyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKEJpZ051bWJlcig3NSksICdzdXNkJykuc2hvdWxkLmVxdWFsKCcwLjc1Jyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKEJpZ051bWJlcignNzUwMDAwMDAwMDAwMCcpLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnNzUwMDAwMDAwMDAuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzc1MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKC0xMDApLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnLTEuMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKDApLCAnYnRjJykuc2hvdWxkLmVxdWFsKCcwLjAwMDAwMDAwJyk7XG4gICAgICB0b0Z1bGxVbml0c0ZpeGVkKEJpZ051bWJlcig3NSksICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDAwMDAwNzUnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKDc1MDAwMCksICdidGMnKS5zaG91bGQuZXF1YWwoJzAuMDA3NTAwMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKC03NTAwMDAwKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnLTAuMDc1MDAwMDAnKTtcbiAgICAgIHRvRnVsbFVuaXRzRml4ZWQoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcpLCAnYnRjJykuc2hvdWxkLmVxdWFsKCc3NTAwMDAwMDAwMDAwMDAwMDAuMDAwMDAwMDAnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3RvQmFzZVVuaXRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29udmVydCBpbnRvIGJhc2UgdW5pdHMnLCAoKSA9PiB7XG4gICAgICB0b0Jhc2VVbml0cygwLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnMCcpO1xuICAgICAgdG9CYXNlVW5pdHMoJzAuNzUnLCAnc3VzZCcpLnNob3VsZC5lcXVhbCgnNzUnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCctMS4wMCcsICdzdXNkJykuc2hvdWxkLmVxdWFsKCctMTAwJyk7XG4gICAgICB0b0Jhc2VVbml0cygnMCcsICdidGMnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCcwLjAwMDAwMDAwMCcsICdidGMnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCcwLjAwMDAwMDc1JywgJ2J0YycpLnNob3VsZC5lcXVhbCgnNzUnKTtcbiAgICAgIHRvQmFzZVVuaXRzKCcwLjAwNzUwMDAwJywgJ2J0YycpLnNob3VsZC5lcXVhbCgnNzUwMDAwJyk7XG4gICAgICB0b0Jhc2VVbml0cygnLTAuMDc1MDAwMDAnLCAnYnRjJykuc2hvdWxkLmVxdWFsKCctNzUwMDAwMCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjb252ZXJ0IGJpZyBudW1iZXJzIGludG8gYmFzZSB1bml0cycsICgpID0+IHtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcigwKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcig3NSksICdzdXNkJykuc2hvdWxkLmVxdWFsKCc3NTAwJyk7XG4gICAgICB0b0Jhc2VVbml0cyhCaWdOdW1iZXIoJzc1MDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzc1MDAwMDAwMDAwMDAwMCcpO1xuICAgICAgdG9CYXNlVW5pdHMoQmlnTnVtYmVyKCc3NTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJzcuNWUrMjgnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcigtMTAwKSwgJ3N1c2QnKS5zaG91bGQuZXF1YWwoJy0xMDAwMCcpO1xuICAgICAgdG9CYXNlVW5pdHMoQmlnTnVtYmVyKDApLCAnYnRjJykuc2hvdWxkLmVxdWFsKCcwJyk7XG4gICAgICB0b0Jhc2VVbml0cyhCaWdOdW1iZXIoNzUpLCAnYnRjJykuc2hvdWxkLmVxdWFsKCc3NTAwMDAwMDAwJyk7XG4gICAgICB0b0Jhc2VVbml0cyhCaWdOdW1iZXIoNzUwMDAwKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnNzUwMDAwMDAwMDAwMDAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcigtNzUwMDAwMCksICdidGMnKS5zaG91bGQuZXF1YWwoJy03NTAwMDAwMDAwMDAwMDAnKTtcbiAgICAgIHRvQmFzZVVuaXRzKEJpZ051bWJlcignNzUwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnKSwgJ2J0YycpLnNob3VsZC5lcXVhbCgnNy41ZSszMycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndG9NYXJrZXRWYWx1ZUJhc2VVbml0cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbnZlcnQgaW50byBtYXJrZXQgdmFsdWUgYmFzZSB1bml0cycsICgpID0+IHtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ3N1c2QnLCAxLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ3N1c2QnLCAxLCAxMCkuc2hvdWxkLmVxdWFsKEJpZ0ludCgxMCkpO1xuICAgICAgdG9NYXJrZXRWYWx1ZUJhc2VVbml0cygnc3VzZCcsIDcwMDAwMDAwLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ3N1c2QnLCA3MDAwMDAwMCwgMTApLnNob3VsZC5lcXVhbChCaWdJbnQoNzAwMDAwMDAwKSk7XG4gICAgICB0b01hcmtldFZhbHVlQmFzZVVuaXRzKCdidGMnLCAxLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIDEsIDEwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIDcwMDAwMDAwLCAwKS5zaG91bGQuZXF1YWwoQmlnSW50KDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIDcwMDAwMDAwLCAxMCkuc2hvdWxkLmVxdWFsKEJpZ0ludCg3MDApKTtcbiAgICAgIHRvTWFya2V0VmFsdWVCYXNlVW5pdHMoJ2J0YycsIEJpZ051bWJlcignNzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcpLCAxMCkuc2hvdWxkLmVxdWFsKFxuICAgICAgICBCaWdJbnQoJzY5OTk5OTk5OTk5OTk5OTk5MjgwJylcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFsbG93IGNoYW5naW5nIHRoZSBudW1lcmF0b3Igb2YgdGhlIHRyYWRpbmcgcGFpcicsICgpID0+IHtcbiAgICAgIC8vICQzLjM4IG1hcmtldCB2YWx1ZSBmb3IgMSBldGggYXQgMzM4LjI1ODIgY2VudHMgbWFya2V0IHByaWNlXG4gICAgICB0b01hcmtldFZhbHVlQmFzZVVuaXRzKCd0ZXRoJywgMzM4LjI1ODIsIEJpZ0ludCgxMDAwMDAwMDAwMDAwMDAwMCkudG9TdHJpbmcoKSwgJ3RzdXNkJykuc2hvdWxkLmVxdWFsKEJpZ0ludCgzMzgpKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==